Contrato 1: AbrirSolicitud(clienteID, datosSolicitud)
Responsabilidades:
Permitir al reciclador abrir/visualizar una solicitud específica para iniciar el proceso de recolección. El sistema muestra la información asociada a esa solicitud.
Referencias:
Caso de uso: Ingresar solicitud de recolección*.
Notas:
La solicitud queda en estado “Pendiente” hasta ser validada y asignada por el coordinador.
Excepciones:
Faltan datos obligatorios (dirección, tipo de material).
El cliente no está registrado o su cuenta está inactiva.
Salida:
Confirmación de registro de la solicitud con un identificador único (ID de solicitud).
Precondiciones:
El cliente debe estar autenticado.
El sistema debe tener conexión con la base de datos.
Postcondiciones:
Se crea una nueva instancia del objeto solicitud.
Se asocia la solicitud al cliente correspondiente.
El estado inicial de la solicitud se establece como pendiente



Contrato 2: ReportaResultado(solicitudID, estado, observaciones)
Responsabilidades:
Registrar el resultado de una recolección (exitosa, parcial o fallida) por parte del reciclador.
Referencias:
Caso de uso: Generar reporte de estado de solicitud.
Notas:
El reporte incluye observaciones del reciclador y puede activar la generación del comprobante si la recolección fue exitosa.
Excepciones:
La solicitud no existe o ya fue cerrada.
Error al guardar el reporte.
Salida:
Confirmación de registro del reporte y cambio de estado de la solicitud.
Precondiciones:
La solicitud debe estar en estado asignada.
El reciclador debe estar autenticado.
Postcondiciones:
Se crea un objeto "Reporte".
El estado de la solicitud cambia a completada o fallida.
Se inicia la operación "EmiteComprobante()" si corresponde (relación extend).


Contrato 3: EmiteComprobante(solicitudID)
Responsabilidades:
Generar y enviar un comprobante digital al cliente con el detalle del retiro realizado.
Referencias:
Caso de uso: Emitir comprobante de retiro (extend de generar reporte de estado de solicitud).
Notas:
Incluye información del reciclador, cliente, materiales retirados y totales.
Excepciones:
Error al generar el comprobante o enviar el correo.
No existen datos suficientes en el reporte.
Salida:
Comprobante digital (PDF o formato electrónico) enviado al cliente.
Precondiciones:
Debe existir un reporte asociado a la solicitud.
El retiro debe haberse completado exitosamente.
Postcondiciones:
Se crea un objeto "Comprobante".
Se asocia el comprobante a la solicitud y se envía al cliente.
Se actualiza el estado final de la solicitud como cerrada.

